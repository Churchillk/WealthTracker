<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iStore | Premium iPhone Shop</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap">
    <style>
        /* CSS Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        :root {
            --primary: #007AFF;
            --primary-dark: #0056CC;
            --primary-light: rgba(0, 122, 255, 0.1);
            --background: #000000;
            --surface: #1C1C1E;
            --surface-light: #2C2C2E;
            --surface-lighter: #3A3A3C;
            --text-primary: #FFFFFF;
            --text-secondary: #8E8E93;
            --text-tertiary: #636366;
            --success: #32D74B;
            --warning: #FFD60A;
            --error: #FF3B30;
            --border: #38383A;
            --shadow: rgba(0, 0, 0, 0.5);
            --gradient: linear-gradient(135deg, #007AFF 0%, #5856D6 100%);
            --gradient-gold: linear-gradient(135deg, #FFD700 0%, #FF9500 100%);
            --gradient-silver: linear-gradient(135deg, #C0C0C0 0%, #808080 100%);
            --gradient-space-black: linear-gradient(135deg, #1C1C1E 0%, #000000 100%);
            --glass-bg: rgba(28, 28, 30, 0.7);
            --glass-border: rgba(255, 255, 255, 0.1);
        }

        body {
            background-color: var(--background);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: var(--surface);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-dark);
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        ul {
            list-style: none;
        }

        .container {
            width: 100%;
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 40px;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 14px 28px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 15px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            text-align: center;
            border: none;
            position: relative;
            overflow: hidden;
            white-space: nowrap;
            flex-shrink: 0;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.7s ease;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: var(--gradient);
            color: white;
            box-shadow: 0 8px 24px rgba(0, 122, 255, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(0, 122, 255, 0.4);
        }

        .btn-outline {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-outline:hover {
            background: rgba(0, 122, 255, 0.1);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 122, 255, 0.2);
        }

        .btn-large {
            padding: 18px 36px;
            font-size: 16px;
            border-radius: 14px;
        }

        .btn-small {
            padding: 10px 20px;
            font-size: 14px;
            border-radius: 10px;
        }

        .btn-icon {
            padding: 12px;
            border-radius: 10px;
            width: 44px;
            height: 44px;
        }

        .section-header {
            text-align: center;
            margin-bottom: 60px;
            position: relative;
        }

        .section-header h2 {
            font-size: 48px;
            font-weight: 800;
            margin-bottom: 20px;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -0.5px;
            position: relative;
            display: inline-block;
        }

        .section-header h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: var(--gradient);
            border-radius: 2px;
        }

        .section-header p {
            color: var(--text-secondary);
            font-size: 18px;
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.7;
        }

        /* Header Styles */
        header {
            background-color: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(25px) saturate(180%);
            -webkit-backdrop-filter: blur(25px) saturate(180%);
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            padding: 18px 0;
            border-bottom: 1px solid var(--glass-border);
            transition: all 0.4s ease;
        }

        header.scrolled {
            padding: 12px 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 30px;
            font-weight: 900;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: flex;
            align-items: center;
            transition: transform 0.3s ease;
        }

        .logo:hover {
            transform: scale(1.05);
        }

        .logo i {
            margin-right: 10px;
            font-size: 26px;
        }

        .nav-links {
            display: flex;
            gap: 40px;
        }

        .nav-links a {
            font-weight: 600;
            font-size: 16px;
            position: relative;
            padding: 8px 0;
            color: var(--text-secondary);
            transition: color 0.3s ease;
        }

        .nav-links a:hover,
        .nav-links a.active {
            color: var(--text-primary);
        }

        .nav-links a:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 3px;
            background: var(--gradient);
            border-radius: 3px;
            transition: width 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .nav-links a:hover:after,
        .nav-links a.active:after {
            width: 100%;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .cart-icon, .user-icon {
            position: relative;
            font-size: 20px;
            cursor: pointer;
            width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            background: var(--surface-light);
            transition: all 0.3s ease;
        }

        .cart-icon:hover, .user-icon:hover {
            background: var(--surface-lighter);
            transform: translateY(-2px);
        }

        .cart-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--primary);
            color: white;
            font-size: 11px;
            font-weight: 700;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 10px rgba(0, 122, 255, 0.3);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .mobile-menu-btn {
            display: none;
            font-size: 24px;
            cursor: pointer;
            width: 44px;
            height: 44px;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            background: var(--surface-light);
            transition: all 0.3s ease;
        }

        .mobile-menu-btn:hover {
            background: var(--surface-lighter);
        }

        /* Hero Section */
        .hero {
            padding: 180px 0 120px;
            position: relative;
            overflow: hidden;
            min-height: 100vh;
            display: flex;
            align-items: center;
        }

        .hero-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(circle at 20% 50%, rgba(0, 122, 255, 0.2) 0%, transparent 40%),
                radial-gradient(circle at 80% 20%, rgba(88, 86, 214, 0.15) 0%, transparent 40%),
                radial-gradient(circle at 40% 80%, rgba(50, 215, 75, 0.1) 0%, transparent 40%);
            z-index: -2;
            animation: float 20s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            33% { transform: translate(30px, 30px) rotate(120deg); }
            66% { transform: translate(-20px, 40px) rotate(240deg); }
        }

        .hero-content {
            max-width: 750px;
            position: relative;
            z-index: 1;
        }

        .hero h1 {
            font-size: 64px;
            font-weight: 900;
            line-height: 1.1;
            margin-bottom: 25px;
            letter-spacing: -1px;
        }

        .hero h1 span {
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            position: relative;
            display: inline-block;
        }

        .hero h1 span::after {
            content: '';
            position: absolute;
            bottom: 5px;
            left: 0;
            width: 100%;
            height: 8px;
            background: var(--gradient);
            opacity: 0.2;
            border-radius: 4px;
            z-index: -1;
        }

        .hero p {
            font-size: 20px;
            color: var(--text-secondary);
            margin-bottom: 45px;
            max-width: 600px;
            line-height: 1.7;
        }

        .hero-btns {
            display: flex;
            gap: 20px;
            margin-bottom: 70px;
            flex-wrap: wrap;
        }

        .hero-stats {
            display: flex;
            gap: 40px;
            margin-top: 50px;
            flex-wrap: wrap;
        }

        .stat-item {
            display: flex;
            flex-direction: column;
        }

        .stat-value {
            font-size: 38px;
            font-weight: 800;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1;
        }

        .stat-label {
            font-size: 15px;
            color: var(--text-secondary);
            margin-top: 8px;
        }

        .hero-image {
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            max-width: 50%;
            z-index: 0;
            filter: drop-shadow(0 40px 60px rgba(0, 0, 0, 0.4));
            animation: floatPhone 8s ease-in-out infinite;
        }

        @keyframes floatPhone {
            0%, 100% { transform: translateY(-50%) rotate(0deg); }
            50% { transform: translateY(-55%) rotate(5deg); }
        }

        /* Products Section */
        .products {
            padding: 100px 0;
            position: relative;
        }

        .products-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 50% 0%, rgba(0, 122, 255, 0.05) 0%, transparent 50%);
            z-index: -1;
        }

        .product-filters {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 10px 24px;
            background: var(--surface);
            border: 2px solid var(--border);
            border-radius: 10px;
            color: var(--text-secondary);
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .filter-btn:hover,
        .filter-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            box-shadow: 0 8px 20px rgba(0, 122, 255, 0.3);
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 30px;
        }

        .product-card {
            background: var(--surface);
            border-radius: 20px;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 1px solid var(--border);
            position: relative;
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .product-card:hover {
            transform: translateY(-12px);
            border-color: var(--primary);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
        }

        .product-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(0, 122, 255, 0.05), transparent);
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .product-card:hover::before {
            opacity: 1;
        }

        .product-badge {
            position: absolute;
            top: 16px;
            right: 16px;
            background: var(--gradient);
            color: white;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            z-index: 2;
            box-shadow: 0 4px 15px rgba(0, 122, 255, 0.3);
        }

        .product-image {
            height: 240px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 30px;
            background: linear-gradient(135deg, var(--surface-light) 0%, var(--surface) 100%);
            position: relative;
            overflow: hidden;
            flex-shrink: 0;
        }

        .product-image img {
            max-width: 100%;
            max-height: 100%;
            filter: drop-shadow(0 20px 30px rgba(0, 0, 0, 0.4));
            transition: transform 0.5s ease;
        }

        .product-card:hover .product-image img {
            transform: scale(1.08) rotate(3deg);
        }

        .product-info {
            padding: 24px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .product-title {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 10px;
        }

        .product-rating {
            display: flex;
            align-items: center;
            gap: 5px;
            color: var(--warning);
            font-size: 14px;
            flex-shrink: 0;
        }

        .product-description {
            color: var(--text-secondary);
            font-size: 14px;
            margin-bottom: 16px;
            line-height: 1.6;
            flex-grow: 1;
        }

        .product-features {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
        }

        .feature-tag {
            background: var(--surface-light);
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            color: var(--text-secondary);
            white-space: nowrap;
        }

        .product-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: auto;
            gap: 15px;
        }

        .product-price {
            font-size: 28px;
            font-weight: 800;
            color: var(--primary);
            line-height: 1;
            white-space: nowrap;
        }

        .product-price span {
            font-size: 14px;
            color: var(--text-secondary);
            font-weight: 500;
            display: block;
            margin-top: 4px;
        }

        .product-actions {
            display: flex;
            gap: 10px;
            flex-shrink: 0;
        }

        /* Product Detail Modal */
        .product-detail-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2002;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            backdrop-filter: blur(10px);
            padding: 20px;
            overflow-y: auto;
        }

        .product-detail-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .detail-container {
            background: var(--surface);
            border-radius: 24px;
            width: 100%;
            max-width: 1200px;
            padding: 40px;
            transform: translateY(50px) scale(0.95);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 1px solid var(--border);
            box-shadow: 0 40px 80px rgba(0, 0, 0, 0.4);
            position: relative;
            overflow: hidden;
            max-height: 90vh;
            overflow-y: auto;
        }

        .product-detail-modal.active .detail-container {
            transform: translateY(0) scale(1);
        }

        .detail-container::-webkit-scrollbar {
            width: 8px;
        }

        .detail-container::-webkit-scrollbar-track {
            background: var(--surface-light);
            border-radius: 4px;
        }

        .detail-container::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 4px;
        }

        .detail-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .detail-header h3 {
            font-size: 32px;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            flex-grow: 1;
        }

        .close-detail {
            background: transparent;
            color: var(--text-secondary);
            border: none;
            font-size: 26px;
            cursor: pointer;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .close-detail:hover {
            background: var(--surface-light);
            color: var(--text-primary);
            transform: rotate(90deg);
        }

        .detail-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
        }

        .detail-image-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .detail-main-image {
            width: 100%;
            height: 400px;
            background: linear-gradient(135deg, var(--surface-light) 0%, var(--surface) 100%);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px;
            overflow: hidden;
        }

        .detail-main-image img {
            max-width: 100%;
            max-height: 100%;
            filter: drop-shadow(0 20px 30px rgba(0, 0, 0, 0.4));
        }

        .detail-thumbnails {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .detail-thumbnail {
            width: 80px;
            height: 80px;
            background: var(--surface-light);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            overflow: hidden;
        }

        .detail-thumbnail:hover {
            border-color: var(--primary);
            transform: translateY(-3px);
        }

        .detail-thumbnail.active {
            border-color: var(--primary);
            background: rgba(0, 122, 255, 0.1);
        }

        .detail-thumbnail img {
            max-width: 100%;
            max-height: 100%;
        }

        .detail-info {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .detail-rating {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--warning);
            font-size: 18px;
        }

        .detail-rating span {
            color: var(--text-secondary);
            font-weight: 600;
        }

        .detail-description {
            color: var(--text-secondary);
            line-height: 1.7;
            font-size: 16px;
        }

        .detail-specs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 10px;
        }

        .spec-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: var(--surface-light);
            border-radius: 10px;
        }

        .spec-icon {
            color: var(--primary);
            font-size: 20px;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 122, 255, 0.1);
            border-radius: 8px;
            flex-shrink: 0;
        }

        .spec-text h4 {
            font-size: 14px;
            margin-bottom: 4px;
            color: var(--text-primary);
        }

        .spec-text p {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .detail-colors, .detail-storage {
            margin-top: 10px;
        }

        .detail-colors h4, .detail-storage h4 {
            font-size: 18px;
            margin-bottom: 15px;
            color: var(--text-primary);
        }

        .color-options, .storage-options {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
        }

        .color-option, .storage-option {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .color-option {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 3px solid transparent;
        }

        .color-option:hover, .color-option.selected {
            transform: scale(1.1);
            border-color: white;
        }

        .storage-option {
            padding: 12px 20px;
            background: var(--surface-light);
            border-radius: 10px;
            border: 2px solid transparent;
            font-weight: 600;
            min-width: 80px;
            text-align: center;
        }

        .storage-option:hover, .storage-option.selected {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .detail-price {
            font-size: 42px;
            font-weight: 800;
            color: var(--primary);
            margin-top: 10px;
        }

        .detail-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        /* Cart Page */
        .cart {
            padding: 160px 0 100px;
            min-height: 100vh;
        }

        .cart-container {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 40px;
        }

        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .clear-cart {
            background: transparent;
            color: var(--error);
            border: 2px solid var(--error);
            padding: 10px 20px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .clear-cart:hover {
            background: rgba(255, 59, 48, 0.1);
        }

        .cart-items {
            background: var(--surface);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid var(--border);
        }

        .cart-item {
            display: flex;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid var(--border);
            transition: all 0.3s ease;
            gap: 20px;
        }

        .cart-item:hover {
            background: rgba(255, 255, 255, 0.02);
        }

        .cart-item:last-child {
            border-bottom: none;
        }

        .cart-item-image {
            width: 120px;
            height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--surface-light);
            border-radius: 14px;
            flex-shrink: 0;
            overflow: hidden;
        }

        .cart-item-image img {
            max-width: 85%;
            max-height: 85%;
            transition: transform 0.3s ease;
        }

        .cart-item:hover .cart-item-image img {
            transform: scale(1.1);
        }

        .cart-item-details {
            flex: 1;
            min-width: 0;
        }

        .cart-item-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 8px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .cart-item-variant {
            color: var(--text-secondary);
            font-size: 14px;
            margin-bottom: 12px;
        }

        .cart-item-price {
            font-size: 24px;
            font-weight: 800;
            color: var(--primary);
        }

        .cart-item-actions {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-shrink: 0;
        }

        .quantity-selector {
            display: flex;
            align-items: center;
            background: var(--surface-light);
            border-radius: 10px;
            overflow: hidden;
            border: 2px solid transparent;
            transition: border-color 0.3s ease;
        }

        .quantity-selector:focus-within {
            border-color: var(--primary);
        }

        .quantity-btn {
            width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 20px;
            background: var(--surface-lighter);
            transition: all 0.3s ease;
        }

        .quantity-btn:hover {
            background: var(--primary);
            color: white;
        }

        .quantity {
            width: 50px;
            text-align: center;
            font-weight: 700;
            font-size: 16px;
        }

        .remove-item {
            color: var(--error);
            cursor: pointer;
            font-size: 20px;
            width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            background: rgba(255, 59, 48, 0.1);
            transition: all 0.3s ease;
        }

        .remove-item:hover {
            background: var(--error);
            color: white;
            transform: rotate(90deg);
        }

        .cart-summary {
            background: var(--surface);
            border-radius: 20px;
            padding: 30px;
            height: fit-content;
            position: sticky;
            top: 140px;
            border: 1px solid var(--border);
        }

        .cart-summary h3 {
            font-size: 24px;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border);
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border);
        }

        .summary-total {
            font-size: 28px;
            font-weight: 800;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid var(--border);
        }

        .checkout-btn {
            width: 100%;
            margin-top: 25px;
            font-size: 16px;
        }

        .promo-code {
            margin-top: 25px;
            padding-top: 25px;
            border-top: 1px solid var(--border);
        }

        .promo-input {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .promo-input input {
            flex: 1;
            padding: 14px 18px;
            background: var(--surface-light);
            border: 2px solid var(--border);
            border-radius: 10px;
            color: var(--text-primary);
            font-size: 14px;
            transition: all 0.3s ease;
            min-width: 0;
        }

        .promo-input input:focus {
            outline: none;
            border-color: var(--primary);
        }

        /* Contact Page */
        .contact {
            padding: 160px 0 100px;
            min-height: 100vh;
        }

        .contact-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
        }

        .contact-info h3 {
            font-size: 36px;
            margin-bottom: 25px;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .contact-info p {
            color: var(--text-secondary);
            margin-bottom: 40px;
            font-size: 18px;
            line-height: 1.7;
        }

        .contact-details {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 20px;
            padding: 20px;
            background: var(--surface);
            border-radius: 16px;
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }

        .contact-item:hover {
            transform: translateX(10px);
            border-color: var(--primary);
        }

        .contact-icon {
            width: 60px;
            height: 60px;
            border-radius: 16px;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            flex-shrink: 0;
        }

        .contact-text h4 {
            font-size: 20px;
            margin-bottom: 6px;
        }

        .contact-text p {
            color: var(--text-secondary);
            font-size: 16px;
            margin-bottom: 0;
        }

        .contact-form {
            background: var(--surface);
            border-radius: 20px;
            padding: 40px;
            border: 1px solid var(--border);
        }

        .form-group {
            margin-bottom: 25px;
            position: relative;
        }

        .form-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            font-size: 16px;
            color: var(--text-primary);
        }

        .form-control {
            width: 100%;
            padding: 16px 20px;
            background: var(--surface-light);
            border: 2px solid var(--border);
            border-radius: 12px;
            color: var(--text-primary);
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(0, 122, 255, 0.1);
        }

        textarea.form-control {
            min-height: 160px;
            resize: vertical;
        }

        /* Footer */
        footer {
            background: var(--surface);
            padding: 80px 0 40px;
            margin-top: 100px;
            position: relative;
            overflow: hidden;
        }

        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--gradient);
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 40px;
            margin-bottom: 60px;
        }

        .footer-col h4 {
            font-size: 20px;
            margin-bottom: 25px;
            font-weight: 700;
            position: relative;
            display: inline-block;
        }

        .footer-col h4::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 40px;
            height: 3px;
            background: var(--gradient);
            border-radius: 3px;
        }

        .footer-links li {
            margin-bottom: 15px;
        }

        .footer-links a {
            color: var(--text-secondary);
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-size: 15px;
        }

        .footer-links a:hover {
            color: var(--primary);
            transform: translateX(5px);
        }

        .footer-links a i {
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .footer-links a:hover i {
            opacity: 1;
        }

        .social-links {
            display: flex;
            gap: 12px;
            margin-top: 25px;
        }

        .social-links a {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            background: var(--surface-light);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .social-links a:hover {
            background: var(--gradient);
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 122, 255, 0.3);
        }

        .newsletter {
            margin-top: 25px;
        }

        .newsletter p {
            color: var(--text-secondary);
            margin-bottom: 15px;
            font-size: 14px;
        }

        .newsletter-form {
            display: flex;
            gap: 10px;
        }

        .newsletter-form input {
            flex: 1;
            padding: 14px 16px;
            background: var(--surface-light);
            border: 2px solid var(--border);
            border-radius: 10px;
            color: var(--text-primary);
            font-size: 14px;
            min-width: 0;
        }

        .newsletter-form input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 40px;
            border-top: 1px solid var(--border);
            color: var(--text-tertiary);
            font-size: 14px;
        }

        /* Enhanced Checkout Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            backdrop-filter: blur(10px);
            padding: 20px;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .checkout-modal {
            background: var(--surface);
            border-radius: 24px;
            width: 100%;
            max-width: 500px;
            padding: 40px;
            transform: translateY(50px) scale(0.95);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 1px solid var(--border);
            box-shadow: 0 40px 80px rgba(0, 0, 0, 0.4);
            position: relative;
            overflow: hidden;
        }

        .checkout-modal::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--gradient);
        }

        .modal-overlay.active .checkout-modal {
            transform: translateY(0) scale(1);
        }

        .checkout-modal h3 {
            font-size: 32px;
            margin-bottom: 25px;
            text-align: center;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .payment-methods {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
        }

        .payment-method {
            display: flex;
            align-items: center;
            padding: 20px;
            background: var(--surface-light);
            border-radius: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
        }

        .payment-method:hover {
            transform: translateX(8px);
            background: var(--surface-lighter);
        }

        .payment-method.selected {
            border-color: var(--primary);
            background: rgba(0, 122, 255, 0.1);
        }

        .payment-method i {
            font-size: 28px;
            margin-right: 20px;
            color: var(--primary);
        }

        .payment-method-check {
            position: absolute;
            top: 18px;
            right: 18px;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            border: 2px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .payment-method.selected .payment-method-check {
            background: var(--primary);
            border-color: var(--primary);
        }

        .payment-method.selected .payment-method-check::before {
            content: 'âœ“';
            color: white;
            font-size: 12px;
            font-weight: bold;
        }

        .payment-form {
            margin-top: 25px;
            display: none;
        }

        .payment-form.active {
            display: block;
            animation: slideDown 0.5s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }

        .modal-actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .modal-actions .btn {
            flex: 1;
            min-width: 0;
        }

        /* Success Message */
        .success-message {
            display: none;
            text-align: center;
            padding: 50px 20px;
        }

        .success-message.active {
            display: block;
            animation: fadeIn 0.8s ease;
        }

        .success-icon {
            width: 80px;
            height: 80px;
            background: var(--success);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 30px;
            font-size: 40px;
            animation: successPop 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes successPop {
            0% { transform: scale(0); }
            70% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .success-message h3 {
            font-size: 32px;
            margin-bottom: 15px;
            color: var(--success);
        }

        .success-message p {
            color: var(--text-secondary);
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 8px;
        }

        /* Page transition */
        .page {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            animation: pageIn 0.6s ease forwards;
        }

        @keyframes pageIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .page.active {
            display: block;
        }

        /* Loading Animation */
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--background);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }

        .loader.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .loader-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid var(--surface);
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 100px;
            right: 30px;
            background: var(--surface);
            border-radius: 14px;
            padding: 18px 25px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border-left: 5px solid var(--primary);
            transform: translateX(400px);
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 1001;
            max-width: 350px;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification-success {
            border-left-color: var(--success);
        }

        .notification-error {
            border-left-color: var(--error);
        }

        .notification-content {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .notification-icon {
            font-size: 22px;
            color: var(--primary);
        }

        .notification-success .notification-icon {
            color: var(--success);
        }

        .notification-error .notification-icon {
            color: var(--error);
        }

        /* Responsive Design */
        @media (max-width: 1400px) {
            .container {
                max-width: 1200px;
                padding: 0 30px;
            }

            .hero h1 {
                font-size: 56px;
            }

            .hero-image {
                max-width: 45%;
            }

            .detail-content {
                gap: 40px;
            }
        }

        @media (max-width: 1200px) {
            .footer-content {
                grid-template-columns: repeat(2, 1fr);
            }

            .detail-content {
                grid-template-columns: 1fr;
                gap: 30px;
            }

            .detail-main-image {
                height: 350px;
            }

            .hero h1 {
                font-size: 48px;
            }

            .hero-image {
                max-width: 40%;
            }
        }

        @media (max-width: 992px) {
            .nav-links {
                display: none;
            }

            .mobile-menu-btn {
                display: flex;
            }

            .hero {
                padding: 160px 0 80px;
                text-align: center;
            }

            .hero h1 {
                font-size: 42px;
            }

            .hero-image {
                position: relative;
                top: auto;
                right: auto;
                transform: none;
                max-width: 100%;
                margin-top: 50px;
                order: 1;
            }

            .hero-content {
                max-width: 100%;
                order: 2;
            }

            .hero-stats {
                justify-content: center;
            }

            .cart-container,
            .contact-container {
                grid-template-columns: 1fr;
                gap: 30px;
            }

            .cart-summary {
                position: static;
            }

            .footer-content {
                grid-template-columns: 1fr;
                gap: 35px;
            }

            .product-grid {
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            }

            .section-header h2 {
                font-size: 36px;
            }

            .section-header p {
                font-size: 16px;
                padding: 0 20px;
            }

            .contact-container {
                gap: 40px;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 0 20px;
            }

            .hero h1 {
                font-size: 36px;
            }

            .hero p {
                font-size: 17px;
            }

            .section-header h2 {
                font-size: 32px;
            }

            .hero-btns {
                flex-direction: column;
                align-items: center;
            }

            .btn {
                width: 100%;
                max-width: 280px;
            }

            .cart-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }

            .cart-item-image {
                width: 100%;
                height: 200px;
            }

            .cart-item-actions {
                margin-top: 15px;
                width: 100%;
                justify-content: space-between;
            }

            .checkout-modal,
            .detail-container {
                padding: 30px 20px;
            }

            .modal-actions {
                flex-direction: column;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .detail-specs {
                grid-template-columns: 1fr;
            }

            .product-actions {
                flex-wrap: wrap;
                justify-content: center;
            }

            .product-actions .btn {
                flex: 1;
                min-width: 120px;
            }

            .detail-actions {
                flex-direction: column;
            }

            .detail-actions .btn {
                width: 100%;
            }

            .contact-form {
                padding: 30px;
            }

            .contact-item {
                padding: 15px;
            }

            .notification {
                right: 20px;
                left: 20px;
                max-width: calc(100% - 40px);
            }
        }

        @media (max-width: 576px) {
            .hero h1 {
                font-size: 32px;
            }

            .section-header h2 {
                font-size: 28px;
            }

            .section-header p {
                font-size: 15px;
                padding: 0;
            }

            .product-grid {
                grid-template-columns: 1fr;
            }

            .stat-value {
                font-size: 28px;
            }

            .hero-stats {
                flex-direction: column;
                gap: 20px;
            }

            .product-filters {
                justify-content: flex-start;
                overflow-x: auto;
                padding-bottom: 10px;
                margin-left: -5px;
                margin-right: -5px;
                padding-left: 5px;
                padding-right: 5px;
            }

            .filter-btn {
                flex-shrink: 0;
            }

            .product-title {
                flex-direction: column;
                align-items: flex-start;
                gap: 5px;
            }

            .product-rating {
                align-self: flex-start;
            }

            .product-footer {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }

            .product-actions {
                width: 100%;
                justify-content: space-between;
            }

            .cart-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }

            .cart-header h3 {
                font-size: 24px;
            }

            .clear-cart {
                align-self: stretch;
                justify-content: center;
            }

            .header-actions {
                gap: 15px;
            }

            .logo {
                font-size: 26px;
            }

            .logo i {
                font-size: 22px;
            }

            .cart-icon, .user-icon, .mobile-menu-btn {
                width: 40px;
                height: 40px;
                font-size: 18px;
            }

            .hero-image {
                margin-top: 30px;
            }

            .detail-header h3 {
                font-size: 24px;
            }

            .detail-main-image {
                height: 250px;
                padding: 25px;
            }

            .detail-thumbnail {
                width: 60px;
                height: 60px;
            }
        }

        @media (max-width: 400px) {
            .hero h1 {
                font-size: 28px;
            }

            .hero p {
                font-size: 16px;
            }

            .product-actions {
                flex-direction: column;
                width: 100%;
            }

            .product-actions .btn {
                width: 100%;
                max-width: 100%;
            }

            .detail-actions .btn {
                padding: 14px 20px;
                font-size: 14px;
            }

            .contact-form {
                padding: 20px;
            }

            .contact-icon {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }

            .spec-item {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loader" id="loader">
        <div class="loader-spinner"></div>
    </div>

    <!-- Header -->
    <header id="main-header">
        <div class="container header-container">
            <a href="#" class="logo" data-page="home">
                <i class="fas fa-apple"></i>
                iStore
            </a>

            <nav class="nav-links">
                <a href="#" class="active" data-page="home">Home</a>
                <a href="#" data-page="products">iPhones</a>
                <a href="#" data-page="cart">Cart</a>
                <a href="#" data-page="contact">Contact</a>
            </nav>

            <div class="header-actions">
                <div class="user-icon">
                    <i class="fas fa-user"></i>
                </div>
                <div class="cart-icon" data-page="cart">
                    <i class="fas fa-shopping-bag"></i>
                    <span class="cart-count">3</span>
                </div>
                <div class="mobile-menu-btn">
                    <i class="fas fa-bars"></i>
                </div>
            </div>
        </div>
    </header>

    <!-- Home Page -->
    <section id="home" class="page active">
        <!-- Hero Section -->
        <section class="hero">
            <div class="hero-bg"></div>
            <div class="container">
                <div class="hero-content">
                    <h1>iPhone 15 Pro: <span>Beyond Power</span></h1>
                    <p>Experience revolutionary technology with the all-new iPhone 15 Pro. Featuring aerospace-grade titanium design, A17 Pro chip for next-level performance, and an advanced camera system for stunning photography.</p>
                    <div class="hero-btns">
                        <a href="#" class="btn btn-primary btn-large" data-page="products">
                            <i class="fas fa-shopping-bag"></i>
                            Shop Now
                        </a>
                        <a href="#" class="btn btn-outline btn-large" id="learn-more-btn">
                            <i class="fas fa-play-circle"></i>
                            Watch Trailer
                        </a>
                    </div>
                    <div class="hero-stats">
                        <div class="stat-item">
                            <div class="stat-value">24h</div>
                            <div class="stat-label">Battery Life</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">48MP</div>
                            <div class="stat-label">Camera System</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">A17</div>
                            <div class="stat-label">Pro Chip</div>
                        </div>
                    </div>
                </div>
                <div class="hero-image">
                    <img src="https://images.unsplash.com/photo-1695048133142-1a20484d2569?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="iPhone 15 Pro">
                </div>
            </div>
        </section>

        <!-- Featured Products -->
        <section class="products">
            <div class="products-bg"></div>
            <div class="container">
                <div class="section-header">
                    <h2>Latest iPhones</h2>
                    <p>Discover our premium collection of the latest iPhone models, designed to deliver unparalleled performance and style.</p>
                </div>

                <div class="product-filters">
                    <button class="filter-btn active" data-filter="all">All Models</button>
                    <button class="filter-btn" data-filter="pro">Pro Series</button>
                    <button class="filter-btn" data-filter="standard">Standard Series</button>
                    <button class="filter-btn" data-filter="budget">Value Series</button>
                </div>

                <div class="product-grid">
                    <!-- Product cards will be loaded here -->
                </div>
            </div>
        </section>
    </section>

    <!-- Products Page -->
    <section id="products" class="page">
        <div class="products">
            <div class="products-bg"></div>
            <div class="container" style="padding-top: 140px;">
                <div class="section-header">
                    <h2>All iPhone Models</h2>
                    <p>Choose from our complete lineup of iPhone models, each offering unique features to match your lifestyle.</p>
                </div>

                <div class="product-filters">
                    <button class="filter-btn active" data-filter="all">All Models</button>
                    <button class="filter-btn" data-filter="pro">Pro Series</button>
                    <button class="filter-btn" data-filter="standard">Standard Series</button>
                    <button class="filter-btn" data-filter="budget">Value Series</button>
                    <button class="filter-btn" data-filter="latest">Latest</button>
                </div>

                <div class="product-grid">
                    <!-- Product cards will be loaded here -->
                </div>
            </div>
        </div>
    </section>

    <!-- Cart Page -->
    <section id="cart" class="page">
        <div class="cart container">
            <div class="section-header">
                <h2>Your Shopping Cart</h2>
                <p>Review your items and proceed to checkout</p>
            </div>

            <div class="cart-container">
                <div class="cart-items-container">
                    <div class="cart-header">
                        <h3>Your Items (<span id="item-count">0</span>)</h3>
                        <button class="clear-cart" id="clear-cart-btn">
                            <i class="fas fa-trash"></i>
                            Clear Cart
                        </button>
                    </div>
                    <div class="cart-items">
                        <!-- Cart items will be loaded here -->
                    </div>
                </div>

                <div class="cart-summary">
                    <h3>Order Summary</h3>
                    <div class="summary-row">
                        <span>Subtotal</span>
                        <span id="subtotal">$0.00</span>
                    </div>
                    <div class="summary-row">
                        <span>Shipping</span>
                        <span>Free</span>
                    </div>
                    <div class="summary-row">
                        <span>Tax</span>
                        <span id="tax">$0.00</span>
                    </div>

                    <div class="promo-code">
                        <h4>Promo Code</h4>
                        <div class="promo-input">
                            <input type="text" id="promo-code" placeholder="Enter code">
                            <button class="btn btn-outline btn-icon" id="apply-promo">
                                <i class="fas fa-check"></i>
                            </button>
                        </div>
                        <div id="promo-message" style="display: none; margin-top: 10px; font-size: 14px; color: var(--success);"></div>
                    </div>

                    <div class="summary-row summary-total">
                        <span>Total</span>
                        <span id="total">$0.00</span>
                    </div>
                    <button class="btn btn-primary btn-large checkout-btn" id="checkout-btn">
                        <i class="fas fa-lock"></i>
                        Proceed to Checkout
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Page -->
    <section id="contact" class="page">
        <div class="contact container">
            <div class="section-header">
                <h2>Contact Us</h2>
                <p>Get in touch with our team for any inquiries or support</p>
            </div>

            <div class="contact-container">
                <div class="contact-info">
                    <h3>We're Here to Help</h3>
                    <p>Our customer service team is available 24/7 to answer your questions and provide support for all your iStore purchases.</p>

                    <div class="contact-details">
                        <div class="contact-item">
                            <div class="contact-icon">
                                <i class="fas fa-phone"></i>
                            </div>
                            <div class="contact-text">
                                <h4>Phone</h4>
                                <p>1-800-ISTORE (478-6783)</p>
                            </div>
                        </div>

                        <div class="contact-item">
                            <div class="contact-icon">
                                <i class="fas fa-envelope"></i>
                            </div>
                            <div class="contact-text">
                                <h4>Email</h4>
                                <p>support@istore.com</p>
                            </div>
                        </div>

                        <div class="contact-item">
                            <div class="contact-icon">
                                <i class="fas fa-map-marker-alt"></i>
                            </div>
                            <div class="contact-text">
                                <h4>Store Locations</h4>
                                <p>Find an iStore near you</p>
                            </div>
                        </div>

                        <div class="contact-item">
                            <div class="contact-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="contact-text">
                                <h4>Business Hours</h4>
                                <p>Mon-Sun: 9:00 AM - 10:00 PM</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="contact-form">
                    <form id="contact-form">
                        <div class="form-group">
                            <label for="name">Full Name</label>
                            <input type="text" id="name" class="form-control" placeholder="Enter your name" required>
                        </div>

                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <input type="email" id="email" class="form-control" placeholder="Enter your email" required>
                        </div>

                        <div class="form-group">
                            <label for="subject">Subject</label>
                            <input type="text" id="subject" class="form-control" placeholder="What is this regarding?" required>
                        </div>

                        <div class="form-group">
                            <label for="message">Message</label>
                            <textarea id="message" class="form-control" placeholder="How can we help you?" required></textarea>
                        </div>

                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-paper-plane"></i>
                            Send Message
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-col">
                    <a href="#" class="logo" data-page="home">
                        <i class="fas fa-apple"></i>
                        iStore
                    </a>
                    <p>The ultimate destination for premium Apple products. Experience innovation like never before.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                        <a href="#"><i class="fab fa-tiktok"></i></a>
                    </div>

                    <div class="newsletter">
                        <h4>Stay Updated</h4>
                        <p>Subscribe to our newsletter for the latest updates.</p>
                        <div class="newsletter-form">
                            <input type="email" placeholder="Your email address">
                            <button class="btn btn-primary btn-icon">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="footer-col">
                    <h4>Shop</h4>
                    <ul class="footer-links">
                        <li><a href="#" data-page="products">iPhone 15 Pro <i class="fas fa-chevron-right"></i></a></li>
                        <li><a href="#" data-page="products">iPhone 15 <i class="fas fa-chevron-right"></i></a></li>
                        <li><a href="#" data-page="products">iPhone 14 Series <i class="fas fa-chevron-right"></i></a></li>
                        <li><a href="#" data-page="products">iPhone 13 Series <i class="fas fa-chevron-right"></i></a></li>
                        <li><a href="#" data-page="products">Accessories <i class="fas fa-chevron-right"></i></a></li>
                        <li><a href="#" data-page="products">Trade-In <i class="fas fa-chevron-right"></i></a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4>Support</h4>
                    <ul class="footer-links">
                        <li><a href="#">Order Status <i class="fas fa-chevron-right"></i></a></li>
                        <li><a href="#">Shipping & Delivery <i class="fas fa-chevron-right"></i></a></li>
                        <li><a href="#">Returns & Exchanges <i class="fas fa-chevron-right"></i></a></li>
                        <li><a href="#">Product Support <i class="fas fa-chevron-right"></i></a></li>
                        <li><a href="#" data-page="contact">Contact Us <i class="fas fa-chevron-right"></i></a></li>
                        <li><a href="#">FAQ <i class="fas fa-chevron-right"></i></a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <h4>Company</h4>
                    <ul class="footer-links">
                        <li><a href="#">About iStore <i class="fas fa-chevron-right"></i></a></li>
                        <li><a href="#">Careers <i class="fas fa-chevron-right"></i></a></li>
                        <li><a href="#">Investors <i class="fas fa-chevron-right"></i></a></li>
                        <li><a href="#">Ethics & Compliance <i class="fas fa-chevron-right"></i></a></li>
                        <li><a href="#">Newsroom <i class="fas fa-chevron-right"></i></a></li>
                        <li><a href="#">Sustainability <i class="fas fa-chevron-right"></i></a></li>
                    </ul>
                </div>
            </div>

            <div class="footer-bottom">
                <p>&copy; 2026 iStore. All rights reserved. | <a href="#">Privacy Policy</a> | <a href="#">Terms of Service</a> | <a href="#">Legal</a> | <a href="#">Site Map</a></p>
                <p style="margin-top: 15px; font-size: 14px;">iStore is an authorized reseller of Apple products. Apple, the Apple logo, and iPhone are trademarks of Apple Inc.</p>
                <p>powered by <a href="#">BlackCodeLabs</a></p>
            </div>
        </div>
    </footer>

    <!-- Product Detail Modal -->
    <div class="product-detail-modal" id="product-detail-modal">
        <div class="detail-container" id="detail-container">
            <!-- Detail content will be loaded here -->
        </div>
    </div>

    <!-- Checkout Modal -->
    <div class="modal-overlay" id="checkout-modal">
        <div class="checkout-modal">
            <div id="checkout-form">
                <h3>Complete Your Purchase</h3>

                <div class="payment-methods">
                    <div class="payment-method" data-method="card">
                        <i class="fas fa-credit-card"></i>
                        <div>
                            <h4>Credit/Debit Card</h4>
                            <p>Pay with Visa, Mastercard, or American Express</p>
                        </div>
                        <div class="payment-method-check"></div>
                    </div>

                    <div class="payment-method" data-method="paypal">
                        <i class="fab fa-paypal"></i>
                        <div>
                            <h4>PayPal</h4>
                            <p>Pay securely with your PayPal account</p>
                        </div>
                        <div class="payment-method-check"></div>
                    </div>

                    <div class="payment-method" data-method="applepay">
                        <i class="fab fa-apple"></i>
                        <div>
                            <h4>Apple Pay</h4>
                            <p>Pay quickly and securely with Apple Pay</p>
                        </div>
                        <div class="payment-method-check"></div>
                    </div>
                </div>

                <div class="payment-form" id="card-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="card-number">Card Number</label>
                            <input type="text" id="card-number" class="form-control" placeholder="1234 5678 9012 3456" maxlength="19">
                        </div>
                        <div class="form-group">
                            <label for="card-expiry">Expiry Date</label>
                            <input type="text" id="card-expiry" class="form-control" placeholder="MM/YY" maxlength="5">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="card-cvc">CVC</label>
                            <input type="text" id="card-cvc" class="form-control" placeholder="123" maxlength="3">
                        </div>
                        <div class="form-group">
                            <label for="card-name">Name on Card</label>
                            <input type="text" id="card-name" class="form-control" placeholder="John Doe">
                        </div>
                    </div>
                </div>

                <div class="modal-actions">
                    <button class="btn btn-outline" id="cancel-checkout">
                        <i class="fas fa-arrow-left"></i>
                        Back to Cart
                    </button>
                    <button class="btn btn-primary" id="confirm-purchase">
                        <i class="fas fa-lock"></i>
                        Confirm Payment
                    </button>
                </div>
            </div>

            <div class="success-message" id="success-message">
                <div class="success-icon">
                    <i class="fas fa-check"></i>
                </div>
                <h3>Order Confirmed!</h3>
                <p>Thank you for your purchase. Your order has been successfully placed and will be shipped within 2-3 business days.</p>
                <p>A confirmation email has been sent to your registered email address.</p>
                <p><strong>Order ID: #IST-<span id="order-id">00000</span></strong></p>
                <button class="btn btn-primary" id="close-modal" style="margin-top: 30px;">
                    <i class="fas fa-shopping-bag"></i>
                    Continue Shopping
                </button>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification">
        <div class="notification-content">
            <div class="notification-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <div>
                <h4 id="notification-title">Success!</h4>
                <p id="notification-message">Item added to cart successfully.</p>
            </div>
        </div>
    </div>

    <script>
        // Enhanced Product Data with Detailed Information
        const products = [
            {
                id: 1,
                name: "iPhone 15 Pro",
                description: "Titanium design, A17 Pro chip, and groundbreaking camera capabilities with 5x optical zoom.",
                detailedDescription: "The iPhone 15 Pro represents the pinnacle of smartphone engineering. Crafted from aerospace-grade titanium for exceptional strength-to-weight ratio, it features the revolutionary A17 Pro chip that delivers unprecedented performance for gaming, photography, and productivity. The advanced camera system includes a 48MP main sensor with 5x optical zoom capability, enabling professional-grade photography in any lighting condition.",
                price: 999,
                image: "https://images.unsplash.com/photo-1695048133142-1a20484d2569?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                images: [
                    "https://images.unsplash.com/photo-1695048133142-1a20484d2569?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                    "https://images.unsplash.com/photo-1695048133081-15eb8c8d5a5c?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                    "https://images.unsplash.com/photo-1694897733217-01d40909c77f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                    "https://images.unsplash.com/photo-1663499482523-1c0f6a56e31b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
                ],
                colors: [
                    { name: "Natural Titanium", value: "linear-gradient(135deg, #8B8B8B 0%, #5A5A5A 100%)" },
                    { name: "Blue Titanium", value: "linear-gradient(135deg, #007AFF 0%, #0051CC 100%)" },
                    { name: "White Titanium", value: "linear-gradient(135deg, #F5F5F7 0%, #D2D2D7 100%)" },
                    { name: "Black Titanium", value: "linear-gradient(135deg, #1C1C1E 0%, #000000 100%)" }
                ],
                storage: [
                    { size: "128GB", price: 999 },
                    { size: "256GB", price: 1099 },
                    { size: "512GB", price: 1299 },
                    { size: "1TB", price: 1499 }
                ],
                features: ["A17 Pro Chip", "Titanium Design", "5x Optical Zoom", "USB-C", "ProMotion Display", "Always-On Display"],
                specs: [
                    { icon: "fas fa-microchip", title: "Processor", value: "A17 Pro 6-core" },
                    { icon: "fas fa-camera", title: "Main Camera", value: "48MP with 5x zoom" },
                    { icon: "fas fa-expand-alt", title: "Display", value: "6.1\" Super Retina XDR" },
                    { icon: "fas fa-battery-full", title: "Battery", value: "Up to 23 hours video" },
                    { icon: "fas fa-memory", title: "RAM", value: "8GB" },
                    { icon: "fas fa-weight", title: "Weight", value: "187 grams" }
                ],
                rating: 4.9,
                reviews: 1247,
                category: "pro",
                badge: "New"
            },
            {
                id: 2,
                name: "iPhone 15 Pro Max",
                description: "Largest display, longest battery life, and most advanced camera system with 5x optical zoom.",
                detailedDescription: "The iPhone 15 Pro Max pushes the boundaries of what a smartphone can do. Featuring the largest 6.7-inch Super Retina XDR display with ProMotion technology, it offers an immersive viewing experience. The A17 Pro chip powers through demanding tasks while maintaining exceptional energy efficiency for all-day battery life. The camera system is the most advanced ever in an iPhone, with a tetraprism lens enabling 5x optical zoom for capturing distant subjects with stunning clarity.",
                price: 1199,
                image: "https://images.unsplash.com/photo-1695048133081-15eb8c8d5a5c?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                images: [
                    "https://images.unsplash.com/photo-1695048133081-15eb8c8d5a5c?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                    "https://images.unsplash.com/photo-1695048133142-1a20484d2569?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
                ],
                colors: [
                    { name: "Natural Titanium", value: "linear-gradient(135deg, #8B8B8B 0%, #5A5A5A 100%)" },
                    { name: "Blue Titanium", value: "linear-gradient(135deg, #007AFF 0%, #0051CC 100%)" },
                    { name: "White Titanium", value: "linear-gradient(135deg, #F5F5F7 0%, #D2D2D7 100%)" },
                    { name: "Black Titanium", value: "linear-gradient(135deg, #1C1C1E 0%, #000000 100%)" }
                ],
                storage: [
                    { size: "256GB", price: 1199 },
                    { size: "512GB", price: 1399 },
                    { size: "1TB", price: 1599 }
                ],
                features: ["A17 Pro Chip", "6.7\" Display", "5x Optical Zoom", "Longest Battery", "Pro Camera System"],
                specs: [
                    { icon: "fas fa-microchip", title: "Processor", value: "A17 Pro 6-core" },
                    { icon: "fas fa-camera", title: "Main Camera", value: "48MP with 5x zoom" },
                    { icon: "fas fa-expand-alt", title: "Display", value: "6.7\" Super Retina XDR" },
                    { icon: "fas fa-battery-full", title: "Battery", value: "Up to 29 hours video" },
                    { icon: "fas fa-memory", title: "RAM", value: "8GB" },
                    { icon: "fas fa-weight", title: "Weight", value: "221 grams" }
                ],
                rating: 4.9,
                reviews: 892,
                category: "pro",
                badge: "Best Seller"
            },
            {
                id: 3,
                name: "iPhone 15",
                description: "Dynamic Island, 48MP main camera, and powerful A16 Bionic chip for exceptional performance.",
                detailedDescription: "iPhone 15 brings advanced features to everyone with its innovative Dynamic Island, a 48MP main camera, and the powerful A16 Bionic chip. The colorful design is both beautiful and durable, featuring a Ceramic Shield front that's tougher than any smartphone glass. The advanced dual-camera system lets you capture stunning photos with remarkable detail, while the all-day battery life keeps up with your busiest days.",
                price: 799,
                image: "https://images.unsplash.com/photo-1695048132962-7b6d8d6c6d6d?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                images: [
                    "https://images.unsplash.com/photo-1695048132962-7b6d8d6c6d6d?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                    "https://images.unsplash.com/photo-1694897733217-01d40909c77f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
                ],
                colors: [
                    { name: "Black", value: "linear-gradient(135deg, #1C1C1E 0%, #000000 100%)" },
                    { name: "Blue", value: "linear-gradient(135deg, #0A84FF 0%, #0055CC 100%)" },
                    { name: "Green", value: "linear-gradient(135deg, #30D158 0%, #008A20 100%)" },
                    { name: "Yellow", value: "linear-gradient(135deg, #FFD426 0%, #FF9F0A 100%)" },
                    { name: "Pink", value: "linear-gradient(135deg, #FF375F 0%, #FF2D55 100%)" }
                ],
                storage: [
                    { size: "128GB", price: 799 },
                    { size: "256GB", price: 899 },
                    { size: "512GB", price: 1099 }
                ],
                features: ["A16 Bionic", "48MP Camera", "Dynamic Island", "USB-C", "Ceramic Shield", "All-Day Battery"],
                specs: [
                    { icon: "fas fa-microchip", title: "Processor", value: "A16 Bionic 6-core" },
                    { icon: "fas fa-camera", title: "Main Camera", value: "48MP dual system" },
                    { icon: "fas fa-expand-alt", title: "Display", value: "6.1\" Super Retina XDR" },
                    { icon: "fas fa-battery-full", title: "Battery", value: "Up to 20 hours video" },
                    { icon: "fas fa-memory", title: "RAM", value: "6GB" },
                    { icon: "fas fa-weight", title: "Weight", value: "171 grams" }
                ],
                rating: 4.7,
                reviews: 1563,
                category: "standard",
                badge: "Popular"
            },
            {
                id: 4,
                name: "iPhone 15 Plus",
                description: "Large display, all-day battery life, and advanced dual-camera system for stunning photos.",
                detailedDescription: "iPhone 15 Plus gives you the big screen experience with its expansive 6.7-inch display, perfect for watching movies, playing games, and getting work done. It shares all the advanced features of iPhone 15, including the Dynamic Island, 48MP main camera, and A16 Bionic chip, while offering even longer battery life. The larger form factor doesn't compromise on comfort, with ergonomic design and lightweight construction.",
                price: 899,
                image: "https://images.unsplash.com/photo-1694897733217-01d40909c77f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                images: [
                    "https://images.unsplash.com/photo-1694897733217-01d40909c77f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                    "https://images.unsplash.com/photo-1695048132962-7b6d8d6c6d6d?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
                ],
                colors: [
                    { name: "Black", value: "linear-gradient(135deg, #1C1C1E 0%, #000000 100%)" },
                    { name: "Blue", value: "linear-gradient(135deg, #0A84FF 0%, #0055CC 100%)" },
                    { name: "Green", value: "linear-gradient(135deg, #30D158 0%, #008A20 100%)" },
                    { name: "Yellow", value: "linear-gradient(135deg, #FFD426 0%, #FF9F0A 100%)" },
                    { name: "Pink", value: "linear-gradient(135deg, #FF375F 0%, #FF2D55 100%)" }
                ],
                storage: [
                    { size: "128GB", price: 899 },
                    { size: "256GB", price: 999 },
                    { size: "512GB", price: 1199 }
                ],
                features: ["A16 Bionic", "6.7\" Display", "All-Day Battery", "48MP Camera", "Dynamic Island", "USB-C"],
                specs: [
                    { icon: "fas fa-microchip", title: "Processor", value: "A16 Bionic 6-core" },
                    { icon: "fas fa-camera", title: "Main Camera", value: "48MP dual system" },
                    { icon: "fas fa-expand-alt", title: "Display", value: "6.7\" Super Retina XDR" },
                    { icon: "fas fa-battery-full", title: "Battery", value: "Up to 26 hours video" },
                    { icon: "fas fa-memory", title: "RAM", value: "6GB" },
                    { icon: "fas fa-weight", title: "Weight", value: "201 grams" }
                ],
                rating: 4.7,
                reviews: 987,
                category: "standard",
                badge: "New"
            },
            {
                id: 5,
                name: "iPhone 14 Pro",
                description: "Dynamic Island, Always-On display, and 48MP camera for breathtaking detail and low-light performance.",
                detailedDescription: "iPhone 14 Pro introduced the revolutionary Dynamic Island and Always-On display, changing how you interact with your iPhone. The A16 Bionic chip delivers incredible performance while being remarkably efficient. The pro camera system features a 48MP main sensor that captures astonishing detail, along with advanced computational photography capabilities for professional-grade results in any lighting condition.",
                price: 899,
                image: "https://images.unsplash.com/photo-1663499482523-1c0f6a56e31b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                images: [
                    "https://images.unsplash.com/photo-1663499482523-1c0f6a56e31b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                    "https://images.unsplash.com/photo-1663499482555-6c616a6b9035?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
                ],
                colors: [
                    { name: "Deep Purple", value: "linear-gradient(135deg, #8E44AD 0%, #5B2C6F 100%)" },
                    { name: "Gold", value: "linear-gradient(135deg, #FFD700 0%, #D4AF37 100%)" },
                    { name: "Silver", value: "linear-gradient(135deg, #F5F5F7 0%, #C0C0C0 100%)" },
                    { name: "Space Black", value: "linear-gradient(135deg, #1C1C1E 0%, #000000 100%)" }
                ],
                storage: [
                    { size: "128GB", price: 899 },
                    { size: "256GB", price: 999 },
                    { size: "512GB", price: 1199 },
                    { size: "1TB", price: 1399 }
                ],
                features: ["A16 Bionic", "Dynamic Island", "Always-On Display", "48MP Camera", "Emergency SOS", "Crash Detection"],
                specs: [
                    { icon: "fas fa-microchip", title: "Processor", value: "A16 Bionic 6-core" },
                    { icon: "fas fa-camera", title: "Main Camera", value: "48MP Pro system" },
                    { icon: "fas fa-expand-alt", title: "Display", value: "6.1\" Super Retina XDR" },
                    { icon: "fas fa-battery-full", title: "Battery", value: "Up to 23 hours video" },
                    { icon: "fas fa-memory", title: "RAM", value: "6GB" },
                    { icon: "fas fa-weight", title: "Weight", value: "206 grams" }
                ],
                rating: 4.8,
                reviews: 2341,
                category: "pro",
                badge: "Sale"
            },
            {
                id: 6,
                name: "iPhone 14",
                description: "Durable design, impressive battery life, and powerful A15 Bionic chip for everyday performance.",
                detailedDescription: "iPhone 14 features a durable aerospace-grade aluminum design with Ceramic Shield front for exceptional toughness. The A15 Bionic chip delivers impressive performance for everything from gaming to augmented reality. The advanced dual-camera system captures beautiful photos with computational photography, while the all-day battery life ensures you stay connected from morning until night.",
                price: 699,
                image: "https://images.unsplash.com/photo-1663499482555-6c616a6b9035?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                images: [
                    "https://images.unsplash.com/photo-1663499482555-6c616a6b9035?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                    "https://images.unsplash.com/photo-1663499482523-1c0f6a56e31b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
                ],
                colors: [
                    { name: "Midnight", value: "linear-gradient(135deg, #1C1C1E 0%, #000000 100%)" },
                    { name: "Starlight", value: "linear-gradient(135deg, #F5F5F7 0%, #E5E5EA 100%)" },
                    { name: "Blue", value: "linear-gradient(135deg, #0A84FF 0%, #0055CC 100%)" },
                    { name: "Purple", value: "linear-gradient(135deg, #BF5AF2 0%, #8944AB 100%)" },
                    { name: "Red", value: "linear-gradient(135deg, #FF3B30 0%, #D70015 100%)" }
                ],
                storage: [
                    { size: "128GB", price: 699 },
                    { size: "256GB", price: 799 },
                    { size: "512GB", price: 999 }
                ],
                features: ["A15 Bionic", "Durable Design", "All-Day Battery", "Advanced Camera", "Emergency SOS", "5G Ready"],
                specs: [
                    { icon: "fas fa-microchip", title: "Processor", value: "A15 Bionic 6-core" },
                    { icon: "fas fa-camera", title: "Main Camera", value: "12MP dual system" },
                    { icon: "fas fa-expand-alt", title: "Display", value: "6.1\" Super Retina XDR" },
                    { icon: "fas fa-battery-full", title: "Battery", value: "Up to 20 hours video" },
                    { icon: "fas fa-memory", title: "RAM", value: "6GB" },
                    { icon: "fas fa-weight", title: "Weight", value: "172 grams" }
                ],
                rating: 4.6,
                reviews: 1876,
                category: "budget",
                badge: "Value"
            },
            {
                id: 7,
                name: "iPhone 13 Pro",
                description: "Pro camera system, ProMotion display, and A15 Bionic chip for professional performance.",
                detailedDescription: "iPhone 13 Pro delivers a pro experience with its advanced camera system featuring macro photography and cinematic mode. The Super Retina XDR display with ProMotion technology adapts the refresh rate up to 120Hz for incredibly smooth scrolling and responsive gaming. Powered by the A15 Bionic chip, it handles demanding workflows with ease while providing exceptional battery life.",
                price: 799,
                image: "https://images.unsplash.com/photo-1632661674596-df8be070a6c5?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                images: [
                    "https://images.unsplash.com/photo-1632661674596-df8be070a6c5?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
                ],
                colors: [
                    { name: "Graphite", value: "linear-gradient(135deg, #5A5A5A 0%, #3A3A3C 100%)" },
                    { name: "Gold", value: "linear-gradient(135deg, #FFD700 0%, #D4AF37 100%)" },
                    { name: "Silver", value: "linear-gradient(135deg, #F5F5F7 0%, #C0C0C0 100%)" },
                    { name: "Sierra Blue", value: "linear-gradient(135deg, #5DADE2 0%, #3498DB 100%)" }
                ],
                storage: [
                    { size: "128GB", price: 799 },
                    { size: "256GB", price: 899 },
                    { size: "512GB", price: 1099 },
                    { size: "1TB", price: 1299 }
                ],
                features: ["A15 Bionic", "Pro Camera", "ProMotion", "Cinematic Mode", "Macro Photography", "5G"],
                specs: [
                    { icon: "fas fa-microchip", title: "Processor", value: "A15 Bionic 6-core" },
                    { icon: "fas fa-camera", title: "Main Camera", value: "12MP Pro system" },
                    { icon: "fas fa-expand-alt", title: "Display", value: "6.1\" Super Retina XDR" },
                    { icon: "fas fa-battery-full", title: "Battery", value: "Up to 22 hours video" },
                    { icon: "fas fa-memory", title: "RAM", value: "6GB" },
                    { icon: "fas fa-weight", title: "Weight", value: "204 grams" }
                ],
                rating: 4.7,
                reviews: 3124,
                category: "pro",
                badge: "Limited"
            },
            {
                id: 8,
                name: "iPhone SE (3rd Gen)",
                description: "Powerful A15 Bionic chip in our most affordable iPhone design with Touch ID.",
                detailedDescription: "iPhone SE packs the powerful A15 Bionic chip into our most popular size at an affordable price. It features a classic design with a 4.7-inch Retina HD display and the familiar Home button with Touch ID for secure authentication. The single-camera system uses advanced computational photography to capture great photos, while 5G connectivity provides fast downloads and high-quality streaming.",
                price: 429,
                image: "https://images.unsplash.com/photo-1598327105666-5b89351aff97?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                images: [
                    "https://images.unsplash.com/photo-1598327105666-5b89351aff97?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
                ],
                colors: [
                    { name: "Midnight", value: "linear-gradient(135deg, #1C1C1E 0%, #000000 100%)" },
                    { name: "Starlight", value: "linear-gradient(135deg, #F5F5F7 0%, #E5E5EA 100%)" },
                    { name: "Red", value: "linear-gradient(135deg, #FF3B30 0%, #D70015 100%)" }
                ],
                storage: [
                    { size: "64GB", price: 429 },
                    { size: "128GB", price: 479 },
                    { size: "256GB", price: 579 }
                ],
                features: ["A15 Bionic", "Touch ID", "Affordable", "Compact Design", "5G", "Wireless Charging"],
                specs: [
                    { icon: "fas fa-microchip", title: "Processor", value: "A15 Bionic 6-core" },
                    { icon: "fas fa-camera", title: "Main Camera", value: "12MP single camera" },
                    { icon: "fas fa-expand-alt", title: "Display", value: "4.7\" Retina HD" },
                    { icon: "fas fa-battery-full", title: "Battery", value: "Up to 15 hours video" },
                    { icon: "fas fa-memory", title: "RAM", value: "4GB" },
                    { icon: "fas fa-weight", title: "Weight", value: "144 grams" }
                ],
                rating: 4.5,
                reviews: 892,
                category: "budget",
                badge: "Budget"
            }
        ];

        // Enhanced Cart Data
        let cart = [
            { id: 1, name: "iPhone 15 Pro", price: 1099, quantity: 1, image: "https://images.unsplash.com/photo-1695048133142-1a20484d2569?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80", storage: "256GB", color: "Natural Titanium", originalPrice: 1099 },
            { id: 3, name: "iPhone 15", price: 799, quantity: 2, image: "https://images.unsplash.com/photo-1695048132962-7b6d8d6c6d6d?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80", storage: "128GB", color: "Blue", originalPrice: 799 }
        ];

        // Current product being viewed in detail
        let viewingProduct = null;

        // DOM Elements
        const pages = document.querySelectorAll('.page');
        const navLinks = document.querySelectorAll('.nav-links a, .logo, .cart-icon, .footer-links a');
        const cartCount = document.querySelector('.cart-count');
        const productGrids = document.querySelectorAll('.product-grid');
        const cartItemsContainer = document.querySelector('.cart-items');
        const checkoutBtn = document.getElementById('checkout-btn');
        const checkoutModal = document.getElementById('checkout-modal');
        const cancelCheckoutBtn = document.getElementById('cancel-checkout');
        const confirmPurchaseBtn = document.getElementById('confirm-purchase');
        const closeModalBtn = document.getElementById('close-modal');
        const checkoutForm = document.getElementById('checkout-form');
        const successMessage = document.getElementById('success-message');
        const contactForm = document.getElementById('contact-form');
        const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
        const navMenu = document.querySelector('.nav-links');
        const header = document.getElementById('main-header');
        const loader = document.getElementById('loader');
        const notification = document.getElementById('notification');
        const notificationTitle = document.getElementById('notification-title');
        const notificationMessage = document.getElementById('notification-message');
        const filterButtons = document.querySelectorAll('.filter-btn');
        const clearCartBtn = document.getElementById('clear-cart-btn');
        const applyPromoBtn = document.getElementById('apply-promo');
        const promoCodeInput = document.getElementById('promo-code');
        const promoMessage = document.getElementById('promo-message');
        const itemCount = document.getElementById('item-count');
        const orderIdElement = document.getElementById('order-id');
        const learnMoreBtn = document.getElementById('learn-more-btn');
        const productDetailModal = document.getElementById('product-detail-modal');
        const detailContainer = document.getElementById('detail-container');

        // Promo codes
        const promoCodes = {
            "ISTORE10": 0.1, // 10% off
            "WELCOME15": 0.15, // 15% off
            "IPHONE20": 0.2, // 20% off
            "FLASHSALE": 0.25 // 25% off
        };
        let activePromo = null;
        let discount = 0;

        // Initialize the app
        function init() {
            // Simulate loading
            setTimeout(() => {
                loader.classList.add('hidden');
            }, 1200);

            updateCartCount();
            renderProducts();
            renderCartItems();
            calculateCartTotal();
            setupEventListeners();

            // Add scroll effect to header
            window.addEventListener('scroll', handleScroll);
        }

        // Setup event listeners
        function setupEventListeners() {
            // Navigation
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const pageId = link.getAttribute('data-page') || 'home';
                    navigateTo(pageId);

                    // Close mobile menu if open
                    if (window.innerWidth <= 992) {
                        navMenu.style.display = 'none';
                    }
                });
            });

            // Mobile menu toggle
            mobileMenuBtn.addEventListener('click', () => {
                if (navMenu.style.display === 'flex') {
                    navMenu.style.display = 'none';
                } else {
                    navMenu.style.display = 'flex';
                    navMenu.style.flexDirection = 'column';
                    navMenu.style.position = 'absolute';
                    navMenu.style.top = '100%';
                    navMenu.style.left = '0';
                    navMenu.style.width = '100%';
                    navMenu.style.backgroundColor = 'var(--surface)';
                    navMenu.style.padding = '25px';
                    navMenu.style.gap = '18px';
                    navMenu.style.borderTop = '1px solid var(--border)';
                    navMenu.style.boxShadow = '0 20px 40px rgba(0, 0, 0, 0.2)';
                    navMenu.style.borderRadius = '0 0 20px 20px';
                    navMenu.style.zIndex = '1000';
                }
            });

            // Filter buttons
            filterButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Update active button
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');

                    // Filter products
                    const filter = button.getAttribute('data-filter');
                    filterProducts(filter);
                });
            });

            // Checkout modal
            checkoutBtn.addEventListener('click', () => {
                if (cart.length === 0) {
                    showNotification('Your cart is empty', 'Add some products to your cart first.', 'error');
                    return;
                }
                checkoutModal.classList.add('active');
                document.body.style.overflow = 'hidden';
            });

            cancelCheckoutBtn.addEventListener('click', () => {
                checkoutModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            });

            closeModalBtn.addEventListener('click', () => {
                checkoutModal.classList.remove('active');
                document.body.style.overflow = 'auto';
                navigateTo('home');

                // Reset checkout form
                checkoutForm.style.display = 'block';
                successMessage.classList.remove('active');
                document.querySelectorAll('.payment-method').forEach(m => {
                    m.classList.remove('selected');
                });
                document.getElementById('card-form').classList.remove('active');
            });

            // Payment method selection
            document.querySelectorAll('.payment-method').forEach(method => {
                method.addEventListener('click', () => {
                    document.querySelectorAll('.payment-method').forEach(m => {
                        m.classList.remove('selected');
                    });
                    method.classList.add('selected');

                    // Show appropriate form
                    const paymentMethod = method.getAttribute('data-method');
                    document.getElementById('card-form').classList.remove('active');

                    if (paymentMethod === 'card') {
                        document.getElementById('card-form').classList.add('active');
                    }
                });
            });

            // Confirm purchase
            confirmPurchaseBtn.addEventListener('click', () => {
                const selectedMethod = document.querySelector('.payment-method.selected');

                if (!selectedMethod) {
                    showNotification('Select Payment Method', 'Please select a payment method to continue.', 'error');
                    return;
                }

                if (selectedMethod.getAttribute('data-method') === 'card') {
                    // Validate card form
                    const cardNumber = document.getElementById('card-number').value;
                    const cardExpiry = document.getElementById('card-expiry').value;
                    const cardCvc = document.getElementById('card-cvc').value;
                    const cardName = document.getElementById('card-name').value;

                    if (!cardNumber || !cardExpiry || !cardCvc || !cardName) {
                        showNotification('Missing Information', 'Please fill in all card details.', 'error');
                        return;
                    }
                }

                // Generate random order ID
                const orderId = Math.floor(10000 + Math.random() * 90000);
                orderIdElement.textContent = orderId;

                checkoutForm.style.display = 'none';
                successMessage.classList.add('active');

                // Clear cart
                cart = [];
                updateCartCount();
                renderCartItems();
                calculateCartTotal();

                // Reset promo
                activePromo = null;
                discount = 0;
                promoCodeInput.value = '';
                promoMessage.style.display = 'none';
            });

            // Contact form submission
            contactForm.addEventListener('submit', (e) => {
                e.preventDefault();
                showNotification('Message Sent!', 'Thank you for your message. We will get back to you soon.', 'success');
                contactForm.reset();
            });

            // Close modals when clicking outside
            checkoutModal.addEventListener('click', (e) => {
                if (e.target === checkoutModal) {
                    checkoutModal.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
            });

            productDetailModal.addEventListener('click', (e) => {
                if (e.target === productDetailModal) {
                    productDetailModal.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
            });

            // Clear cart button
            clearCartBtn.addEventListener('click', () => {
                if (cart.length === 0) return;

                if (confirm('Are you sure you want to clear your cart?')) {
                    cart = [];
                    updateCartCount();
                    renderCartItems();
                    calculateCartTotal();
                    showNotification('Cart Cleared', 'All items have been removed from your cart.', 'success');
                }
            });

            // Apply promo code
            applyPromoBtn.addEventListener('click', () => {
                const code = promoCodeInput.value.trim().toUpperCase();

                if (!code) {
                    showNotification('Enter Promo Code', 'Please enter a promo code.', 'error');
                    return;
                }

                if (promoCodes[code]) {
                    activePromo = code;
                    discount = promoCodes[code];
                    promoMessage.textContent = `Promo code applied! You saved ${discount * 100}%`;
                    promoMessage.style.display = 'block';
                    promoMessage.style.color = 'var(--success)';
                    calculateCartTotal();
                    showNotification('Promo Applied!', `You saved ${discount * 100}% on your order.`, 'success');
                } else {
                    promoMessage.textContent = 'Invalid promo code';
                    promoMessage.style.display = 'block';
                    promoMessage.style.color = 'var(--error)';
                    showNotification('Invalid Code', 'The promo code you entered is invalid.', 'error');
                }
            });

            // Learn more button
            learnMoreBtn.addEventListener('click', (e) => {
                e.preventDefault();
                showNotification('Coming Soon', 'The iPhone 15 Pro trailer will be available soon!', 'success');
            });
        }

        // Handle scroll for header effect
        function handleScroll() {
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        }

        // Show notification
        function showNotification(title, message, type = 'success') {
            notificationTitle.textContent = title;
            notificationMessage.textContent = message;

            notification.className = 'notification';
            notification.classList.add(type === 'success' ? 'notification-success' : 'notification-error');
            notification.classList.add('show');

            setTimeout(() => {
                notification.classList.remove('show');
            }, 4000);
        }

        // Navigate to a page
        function navigateTo(pageId) {
            // Update active nav link
            document.querySelectorAll('.nav-links a').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('data-page') === pageId) {
                    link.classList.add('active');
                }
            });

            // Show the selected page
            pages.forEach(page => {
                page.classList.remove('active');
                if (page.id === pageId) {
                    page.classList.add('active');

                    // Scroll to top
                    window.scrollTo({ top: 0, behavior: 'smooth' });

                    // Update content if needed
                    if (pageId === 'cart') {
                        renderCartItems();
                        calculateCartTotal();
                    } else if (pageId === 'products' || pageId === 'home') {
                        // Re-render products
                        renderProducts();
                    }
                }
            });
        }

        // Update cart count in header
        function updateCartCount() {
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            cartCount.textContent = totalItems;
            itemCount.textContent = totalItems;
        }

        // Filter products
        function filterProducts(filter) {
            const productCards = document.querySelectorAll('.product-card');

            productCards.forEach(card => {
                const productId = parseInt(card.getAttribute('data-id'));
                const product = products.find(p => p.id === productId);

                if (filter === 'all' || product.category === filter || (filter === 'latest' && product.id <= 4)) {
                    card.style.display = 'flex';
                    setTimeout(() => {
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    }, 100);
                } else {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(30px)';
                    setTimeout(() => {
                        card.style.display = 'none';
                    }, 300);
                }
            });
        }

        // Render products on home and products pages
        function renderProducts() {
            const productHTML = products.map(product => `
                <div class="product-card" data-id="${product.id}" data-category="${product.category}">
                    ${product.badge ? `<div class="product-badge">${product.badge}</div>` : ''}
                    <div class="product-image">
                        <img src="${product.image}" alt="${product.name}">
                    </div>
                    <div class="product-info">
                        <div class="product-title">
                            <span>${product.name}</span>
                            <div class="product-rating">
                                <i class="fas fa-star"></i>
                                <span>${product.rating}</span>
                            </div>
                        </div>
                        <p class="product-description">${product.description}</p>
                        <div class="product-features">
                            ${product.features.slice(0, 3).map(feature => `<span class="feature-tag">${feature}</span>`).join('')}
                        </div>
                        <div class="product-footer">
                            <div class="product-price">$${product.price}<span> Starting</span></div>
                            <div class="product-actions">
                                <button class="btn btn-primary btn-icon add-to-cart" data-id="${product.id}" title="Add to Cart">
                                    <i class="fas fa-cart-plus"></i>
                                </button>
                                <button class="btn btn-outline btn-small view-details" data-id="${product.id}">Details</button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');

            productGrids.forEach(grid => {
                grid.innerHTML = productHTML;
            });

            // Add event listeners to product buttons
            document.querySelectorAll('.add-to-cart').forEach(button => {
                button.addEventListener('click', (e) => {
                    const productId = parseInt(e.target.closest('button').getAttribute('data-id'));
                    addToCart(productId);
                });
            });

            document.querySelectorAll('.view-details').forEach(button => {
                button.addEventListener('click', (e) => {
                    const productId = parseInt(e.target.closest('button').getAttribute('data-id'));
                    openProductDetail(productId);
                });
            });
        }

        // Open product detail modal
        function openProductDetail(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            viewingProduct = product;

            // Create detail HTML
            const detailHTML = `
                <div class="detail-header">
                    <h3>${product.name}</h3>
                    <button class="close-detail" id="close-detail">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <div class="detail-content">
                    <div class="detail-image-container">
                        <div class="detail-main-image">
                            <img src="${product.images[0]}" alt="${product.name}" id="detail-main-image">
                        </div>
                        <div class="detail-thumbnails">
                            ${product.images.map((img, index) => `
                                <div class="detail-thumbnail ${index === 0 ? 'active' : ''}" data-image="${img}">
                                    <img src="${img}" alt="${product.name} - View ${index + 1}">
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <div class="detail-info">
                        <div class="detail-rating">
                            <i class="fas fa-star"></i>
                            <span>${product.rating} (${product.reviews.toLocaleString()} reviews)</span>
                        </div>

                        <p class="detail-description">${product.detailedDescription}</p>

                        <div class="detail-specs">
                            ${product.specs.map(spec => `
                                <div class="spec-item">
                                    <div class="spec-icon">
                                        <i class="${spec.icon}"></i>
                                    </div>
                                    <div class="spec-text">
                                        <h4>${spec.title}</h4>
                                        <p>${spec.value}</p>
                                    </div>
                                </div>
                            `).join('')}
                        </div>

                        <div class="detail-colors">
                            <h4>Available Colors</h4>
                            <div class="color-options">
                                ${product.colors.map((color, index) => `
                                    <div class="color-option ${index === 0 ? 'selected' : ''}"
                                         style="background: ${color.value}"
                                         data-color="${color.name}"
                                         title="${color.name}"></div>
                                `).join('')}
                            </div>
                        </div>

                        <div class="detail-storage">
                            <h4>Storage Options</h4>
                            <div class="storage-options">
                                ${product.storage.map((storage, index) => `
                                    <div class="storage-option ${index === 0 ? 'selected' : ''}"
                                         data-size="${storage.size}"
                                         data-price="${storage.price}">
                                        ${storage.size}
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                        <div class="detail-price" id="detail-price">$${product.price}.00</div>

                        <div class="detail-actions">
                            <button class="btn btn-primary btn-large" id="add-to-cart-detail">
                                <i class="fas fa-cart-plus"></i>
                                Add to Cart - $<span id="detail-current-price">${product.price}</span>.00
                            </button>
                            <button class="btn btn-outline btn-large" id="buy-now-detail">
                                <i class="fas fa-bolt"></i>
                                Buy Now
                            </button>
                        </div>
                    </div>
                </div>
            `;

            detailContainer.innerHTML = detailHTML;

            // Show modal
            productDetailModal.classList.add('active');
            document.body.style.overflow = 'hidden';

            // Add event listeners for detail modal
            document.getElementById('close-detail').addEventListener('click', () => {
                productDetailModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            });

            // Thumbnail click events
            document.querySelectorAll('.detail-thumbnail').forEach(thumbnail => {
                thumbnail.addEventListener('click', () => {
                    document.querySelectorAll('.detail-thumbnail').forEach(t => t.classList.remove('active'));
                    thumbnail.classList.add('active');

                    const imageUrl = thumbnail.getAttribute('data-image');
                    document.getElementById('detail-main-image').src = imageUrl;

                    // Add animation
                    const mainImage = document.querySelector('.detail-main-image');
                    mainImage.style.opacity = '0.7';
                    setTimeout(() => {
                        mainImage.style.opacity = '1';
                    }, 200);
                });
            });

            // Color selection
            document.querySelectorAll('.color-option').forEach(option => {
                option.addEventListener('click', () => {
                    document.querySelectorAll('.color-option').forEach(o => o.classList.remove('selected'));
                    option.classList.add('selected');
                });
            });

            // Storage selection
            document.querySelectorAll('.storage-option').forEach(option => {
                option.addEventListener('click', () => {
                    document.querySelectorAll('.storage-option').forEach(o => o.classList.remove('selected'));
                    option.classList.add('selected');

                    const price = option.getAttribute('data-price');
                    document.getElementById('detail-price').textContent = `$${price}.00`;
                    document.getElementById('detail-current-price').textContent = price;

                    // Add animation
                    const priceElement = document.getElementById('detail-price');
                    priceElement.style.transform = 'scale(1.1)';
                    setTimeout(() => {
                        priceElement.style.transform = 'scale(1)';
                    }, 300);
                });
            });

            // Add to cart from detail
            document.getElementById('add-to-cart-detail').addEventListener('click', () => {
                const selectedColor = document.querySelector('.color-option.selected').getAttribute('data-color');
                const selectedStorage = document.querySelector('.storage-option.selected').getAttribute('data-size');
                const selectedPrice = parseFloat(document.querySelector('.storage-option.selected').getAttribute('data-price'));

                // Add to cart
                const existingItem = cart.find(item =>
                    item.id === product.id &&
                    item.color === selectedColor &&
                    item.storage === selectedStorage
                );

                if (existingItem) {
                    existingItem.quantity++;
                } else {
                    cart.push({
                        id: product.id,
                        name: product.name,
                        price: selectedPrice,
                        quantity: 1,
                        image: product.images[0],
                        storage: selectedStorage,
                        color: selectedColor,
                        originalPrice: selectedPrice
                    });
                }

                updateCartCount();
                renderCartItems();
                calculateCartTotal();

                productDetailModal.classList.remove('active');
                document.body.style.overflow = 'auto';

                showNotification('Added to Cart', `${product.name} (${selectedColor}, ${selectedStorage}) has been added to your cart.`, 'success');

                // Animate cart icon
                const cartIcon = document.querySelector('.cart-icon');
                cartIcon.style.transform = 'scale(1.2)';
                setTimeout(() => {
                    cartIcon.style.transform = 'scale(1)';
                }, 300);
            });

            // Buy now from detail
            document.getElementById('buy-now-detail').addEventListener('click', () => {
                const selectedColor = document.querySelector('.color-option.selected').getAttribute('data-color');
                const selectedStorage = document.querySelector('.storage-option.selected').getAttribute('data-size');
                const selectedPrice = parseFloat(document.querySelector('.storage-option.selected').getAttribute('data-price'));

                // Clear cart and add this item
                cart = [{
                    id: product.id,
                    name: product.name,
                    price: selectedPrice,
                    quantity: 1,
                    image: product.images[0],
                    storage: selectedStorage,
                    color: selectedColor,
                    originalPrice: selectedPrice
                }];

                updateCartCount();
                renderCartItems();
                calculateCartTotal();

                productDetailModal.classList.remove('active');
                document.body.style.overflow = 'auto';

                // Navigate to cart
                navigateTo('cart');

                showNotification('Ready to Checkout', `${product.name} has been added to your cart. Proceed to checkout.`, 'success');
            });
        }

        // Add product to cart
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            const existingItem = cart.find(item => item.id === productId);

            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({
                    id: product.id,
                    name: product.name,
                    price: product.price,
                    quantity: 1,
                    image: product.image,
                    storage: "128GB",
                    color: product.colors[0].name,
                    originalPrice: product.price
                });
            }

            updateCartCount();
            showNotification('Added to Cart', `${product.name} has been added to your cart.`, 'success');

            // Animate cart icon
            const cartIcon = document.querySelector('.cart-icon');
            cartIcon.style.transform = 'scale(1.2)';
            setTimeout(() => {
                cartIcon.style.transform = 'scale(1)';
            }, 300);
        }

        // Render cart items
        function renderCartItems() {
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = `
                    <div style="text-align: center; padding: 60px 20px;">
                        <i class="fas fa-shopping-bag" style="font-size: 70px; color: var(--text-tertiary); margin-bottom: 25px; opacity: 0.5;"></i>
                        <h3 style="margin-bottom: 15px; font-size: 26px;">Your cart is empty</h3>
                        <p style="color: var(--text-secondary); margin-bottom: 35px; font-size: 16px; max-width: 400px; margin-left: auto; margin-right: auto;">Add some amazing iPhones to your cart and experience the future today.</p>
                        <a href="#" class="btn btn-primary btn-large" data-page="products" style="padding: 16px 35px;">
                            <i class="fas fa-shopping-bag"></i>
                            Browse iPhones
                        </a>
                    </div>
                `;

                // Add event listener to the button
                cartItemsContainer.querySelector('.btn').addEventListener('click', (e) => {
                    e.preventDefault();
                    navigateTo('products');
                });

                return;
            }

            const cartHTML = cart.map(item => `
                <div class="cart-item" data-id="${item.id}">
                    <div class="cart-item-image">
                        <img src="${item.image}" alt="${item.name}">
                    </div>
                    <div class="cart-item-details">
                        <h4 class="cart-item-title">${item.name}</h4>
                        <p class="cart-item-variant">${item.color} â€¢ ${item.storage}</p>
                        <div class="cart-item-price">$${(item.price * item.quantity).toFixed(2)}</div>
                    </div>
                    <div class="cart-item-actions">
                        <div class="quantity-selector">
                            <div class="quantity-btn decrease-quantity">-</div>
                            <div class="quantity">${item.quantity}</div>
                            <div class="quantity-btn increase-quantity">+</div>
                        </div>
                        <div class="remove-item" title="Remove item">
                            <i class="fas fa-trash"></i>
                        </div>
                    </div>
                </div>
            `).join('');

            cartItemsContainer.innerHTML = cartHTML;

            // Add event listeners to cart item buttons
            document.querySelectorAll('.decrease-quantity').forEach(button => {
                button.addEventListener('click', (e) => {
                    const itemId = parseInt(e.target.closest('.cart-item').getAttribute('data-id'));
                    updateCartItemQuantity(itemId, -1);
                });
            });

            document.querySelectorAll('.increase-quantity').forEach(button => {
                button.addEventListener('click', (e) => {
                    const itemId = parseInt(e.target.closest('.cart-item').getAttribute('data-id'));
                    updateCartItemQuantity(itemId, 1);
                });
            });

            document.querySelectorAll('.remove-item').forEach(button => {
                button.addEventListener('click', (e) => {
                    const itemId = parseInt(e.target.closest('.cart-item').getAttribute('data-id'));
                    const item = cart.find(item => item.id === itemId);

                    if (confirm(`Remove ${item.name} from cart?`)) {
                        removeFromCart(itemId);
                    }
                });
            });
        }

        // Update cart item quantity
        function updateCartItemQuantity(itemId, change) {
            const item = cart.find(item => item.id === itemId);

            if (item) {
                item.quantity += change;

                if (item.quantity <= 0) {
                    removeFromCart(itemId);
                } else {
                    updateCartCount();
                    renderCartItems();
                    calculateCartTotal();
                    showNotification('Cart Updated', `${item.name} quantity updated to ${item.quantity}.`, 'success');
                }
            }
        }

        // Remove item from cart
        function removeFromCart(itemId) {
            const item = cart.find(item => item.id === itemId);
            cart = cart.filter(item => item.id !== itemId);
            updateCartCount();
            renderCartItems();
            calculateCartTotal();
            showNotification('Item Removed', `${item.name} has been removed from your cart.`, 'success');
        }

        // Calculate cart total
        function calculateCartTotal() {
            const subtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
            const tax = subtotal * 0.08; // 8% tax

            // Apply discount if active
            let discountAmount = 0;
            if (activePromo && discount) {
                discountAmount = subtotal * discount;
            }

            const total = subtotal + tax - discountAmount;

            document.getElementById('subtotal').textContent = `$${subtotal.toFixed(2)}`;
            document.getElementById('tax').textContent = `$${tax.toFixed(2)}`;

            // Show discount if applied
            if (discountAmount > 0) {
                // Add discount row if not exists
                if (!document.getElementById('discount-row')) {
                    const summaryRows = document.querySelector('.cart-summary');
                    const taxRow = document.querySelector('.summary-row:nth-child(3)');
                    const discountHTML = `
                        <div class="summary-row" id="discount-row">
                            <span>Discount (${activePromo})</span>
                            <span style="color: var(--success);">-$${discountAmount.toFixed(2)}</span>
                        </div>
                    `;
                    taxRow.insertAdjacentHTML('afterend', discountHTML);
                } else {
                    document.getElementById('discount-row').innerHTML = `
                        <span>Discount (${activePromo})</span>
                        <span style="color: var(--success);">-$${discountAmount.toFixed(2)}</span>
                    `;
                }
            } else if (document.getElementById('discount-row')) {
                document.getElementById('discount-row').remove();
            }

            document.getElementById('total').textContent = `$${total.toFixed(2)}`;
        }

        // Initialize the app
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>