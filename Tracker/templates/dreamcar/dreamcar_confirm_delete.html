{% extends 'tracker/base.html' %}
{% load static %}

{% block title %}Delete {{ object.brand }} {{ object.model }}{% endblock %}
{% block header_title %}Delete Dream Car{% endblock %}
{% block header_subtitle %}Confirm deletion{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <!-- Back Button -->
    <div class="mb-6">
        <a href="{% url 'dreamcar-detail' object.pk %}"
           class="inline-flex items-center text-emerald-400 hover:text-emerald-300">
            <i class="fas fa-arrow-left mr-2"></i> Back to Car Details
        </a>
    </div>

    <div class="card rounded-xl p-8 text-center">
        <!-- Warning Icon -->
        <div class="w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-r from-rose-900/30 to-amber-900/30 flex items-center justify-center">
            <i class="fas fa-exclamation-triangle text-3xl text-rose-400"></i>
        </div>

        <h2 class="text-2xl font-bold mb-4">Are you sure you want to delete this car?</h2>

        <!-- Car Preview -->
        <div class="max-w-md mx-auto mb-8">
            <div class="bg-slate-800/50 rounded-lg p-6 border border-slate-700">
                <div class="flex items-center justify-between mb-4">
                    <div class="text-left">
                        <h3 class="text-xl font-bold">{{ object.brand }}</h3>
                        <p class="text-slate-400">{{ object.model }}</p>
                    </div>
                    <div class="text-right">
                        <p class="text-slate-400">{{ object.year }}</p>
                        <p class="text-emerald-400 font-bold">${{ object.price|floatformat:2 }}</p>
                    </div>
                </div>

                <div class="flex items-center justify-between text-sm">
                    <span class="px-3 py-1 {% if object.bought %}bg-emerald-900/30 text-emerald-400{% else %}bg-amber-900/30 text-amber-400{% endif %} rounded-full">
                        {% if object.bought %}Owned{% else %}Dream Car{% endif %}
                    </span>
                    <span class="text-slate-400">{{ object.horsepower }} HP</span>
                </div>
            </div>
        </div>

        <!-- Warning Message -->
        <div class="mb-8 p-4 rounded-lg bg-rose-900/20 border border-rose-800/50">
            <p class="text-rose-300">
                <i class="fas fa-exclamation-circle mr-2"></i>
                <strong>Warning:</strong> This action cannot be undone. All pictures associated with this car will also be deleted.
            </p>
        </div>

        <!-- Statistics -->
        <div class="grid grid-cols-2 gap-4 mb-8">
            <div class="bg-slate-800/30 rounded-lg p-4">
                <p class="text-slate-400 text-sm mb-1">Pictures</p>
                <p class="text-2xl font-bold text-slate-300">{{ object.pictures.count }}</p>
            </div>
            <div class="bg-slate-800/30 rounded-lg p-4">
                <p class="text-slate-400 text-sm mb-1">Date Added</p>
                <p class="text-lg font-medium text-slate-300">{{ object.date_added|date:"M d, Y" }}</p>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="flex items-center justify-center space-x-4">
            <a href="{% url 'dreamcar-detail' object.pk %}"
               class="px-8 py-3 bg-slate-800 hover:bg-slate-700 rounded-lg font-medium transition-colors w-32">
                Cancel
            </a>

            <form method="post" class="inline">
                {% csrf_token %}
                <button type="submit"
                        class="px-8 py-3 bg-gradient-to-r from-rose-600 to-rose-700 hover:from-rose-700 hover:to-rose-800 text-white rounded-lg font-medium transition-all duration-300 hover:scale-105 w-32">
                    <i class="fas fa-trash mr-2"></i> Delete
                </button>
            </form>
        </div>

        <!-- Alternative Action -->
        <div class="mt-8 pt-6 border-t border-slate-700">
            <p class="text-slate-400 text-sm mb-3">Alternatively, you can:</p>
            <a href="{% url 'dreamcar-update' object.pk %}"
               class="inline-flex items-center text-blue-400 hover:text-blue-300">
                <i class="fas fa-edit mr-2"></i> Edit this car instead
            </a>
        </div>
    </div>
</div>
{% endblock %}